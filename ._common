#!/bin/sh

pm_data_dir="${XDG_DATA_HOME:-\${HOME\}/.local/share}"

pm_state_dir="${XDG_STATE_HOME:-\${HOME\}/.local/state}"

write_to_file()
{
	target="${1}"
	cat - | tee "${target:?}" > /dev/null
}

append_to_file()
{
	target="${1}"
	cat - | tee -a "${target:?}" > /dev/null
}

git_clone()
{
	remote="${1}"
	target="${2}"
	
	git -C "${target:?}" \
	clone --depth=1 --shallow-submodules \
	"${remote:?}"	
}

git_fetch()
{
	remote="${1}"
	target="${2}"
	git -C "${target:?}" \
	fetch --depth=1 \
	"${remote:?}"
}

curl_download()
{
	uri="${1}"
	extra_flags="${2}"
	curl \
	${extra_flags} \
	-LSf \
	"${uri:?}"
}